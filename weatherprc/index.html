<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/f0511d0431.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <title>WEATHER APP</title>
</head>

<body>
    <div class="main-container">
        <div class="input-section">
            <div class="input-field">
                <input type="text" placeholder="Enter your city name" class="cityName">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <button type="submit" class="submitButton">Submit</button>
            <a href="https://www.google.com/maps/@27.141237,80.8833819,7z" target="_blank"><i
                    class="fa-solid fa-location-dot"></i></a>
        </div>
        <div class="container">

        </div>
    </div>

</body>
<script>
    //query selectors
    var cityInput = document.querySelector('.cityName');
    var btn1 = document.querySelector('.submitButton');
    //event Listeners
    btn1.addEventListener('click', function (name) {

        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityInput.value}&appid=5142a079c21f6cb2df156c3a42bfec63`)//fetching api data
            .then(response => response.json())//text --> json
            .then(data => {
                let result = `<div class="detail">
                <div class="head"><h1>${data.name}</h1></div>
            <div class="flex">
                <h1>temp  ${Math.floor(data["main"].temp - 273)} Â°C</h1>
                <h1> pressure ${data["main"].pressure} </h1>
                <h1> humidity  ${data["main"].humidity} </h1>
                </div>
                </div>`
                let container = document.querySelector(".container")
                container.innerHTML = result
                console.log(data)
            }).catch(err => alert("invalid city name"))

    })
</script>

</html>